<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- Required meta tags -->
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Yantramanav:wght@700&display=swap" rel="stylesheet">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Mineflex</title>
</head>

<body>
  <div class="container-fluid">
    <div class="row justify-content-start" id="logo">
      <div class="col-1">
        <img src="images/cut-out-logo.png" alt="Mineflex" width="200" height="auto">
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="col-auto">
        <h3 class="mf-descriptor-section-1">MINECRAFT SERVER HOSTING</h3>
      </div>
    </div>
    <div class="row mf-section-1 justify-content-center">
      <div class="col-xs-12">
        <h1 class="heading title">Stop paying when you're not playing.</h1>
      </div>
    </div>
    <div class="row justify-content-center mf-beta-form">
      <div class="col-sm-12 col-md-6">
        <div class="row justify-content-center">
          <div class="col-xs-8 col-xl-3 col-lg-4 d-flex pb-xs-3 pb-3 pb-lg-0">
            <label for="fname"></label>
            <input type="text" placeholder="FIRST NAME" id="fname" name="fname">
          </div>
          <div class="col-xs-8 col-xl-3 col-lg-4 d-flex pb-xs-3 pb-3 pb-lg-0">
            <label for="email"></label>
            <input type="text" placeholder="EMAIL" id="email" name="lname">
          </div>
          <div class="col-xs-8 col-xl-1 col-lg-4 d-flex align-items-center">
            <button id="beta-button" type="button" class="btn btn-warning section-1-button mx-auto">Join Beta</button>
          </div>
          </div>
          <div class="col-12 d-flex justify-content-center" style="text-align: center; display: none;">
            <h5 id="join-status" style="color: red;"></h5>
          </div>
        </div>
      </div>
      <div class="col-sm-0 col-3"></div>
    </div>


    <div class="row mf-section-1-details">
      <div class="col-md-3">
        <p class="text-center">Mineflex monitors the <span class="yellowtext"><b>hours</b></span> you play and the <span
            class="yellowtext"><b>storage</b></span> you use so your monthly bill reflects your usage. No
          more paying for hours you’re not playing.</p>
      </div>
      <div class="col-md-auto" class="separator">
        <img src="images/Lines, new.png" style="height: 62px; margin: 20px;">
      </div>
      <div class="col-md-3">
        <p class="text-center">Your participation is essential to our product, that’s why we offer <span
            class="yellowtext"><b>post-beta
              rewards</b></span> and early access to new features.</p>
      </div>
    </div>
  </div>

  <!-- SECTION TWO-->
  <div class="container-fluid">
    <div class="row">
      <div class="col-12 justify-content-center mf-section-2-top">
        <h1 class="mf-headings">Flexibility is about more than price</h1>
        <p class="mf-top-descriptor-padding">Mineflex is built around individual server hosting needs. From mod pack and
          plugin edits, to unlimited server slots and unrestricted server size, Mineflex allows you to choose what
          features are important to you.</p>
      </div>
    </div>
    <div class="row mf-section-2-bottom">
      <div class="col-6 align-items-end mf-section-2-column-left">
        <img src="images/Discord-512.png" class="float-left mf-subheadings-img" alt="Mineflex" width="60" height="auto">
        <h2 class="mf-subheadings" style="text-align:left;">Join our Discord Channel</h2>
        <div class="col-12 d-flex">
          <p class="mf-descriptor-left">The Mineflex discord channel is the best place to give feedback, provide
            suggestions and hear about product updates.</p>
        </div>
        <div class="col-12 d-flex justify-content-center">
          <iframe src="https://discordapp.com/widget?id=733807279287304203&amp;theme=dark" width="350" height="500"
            allowtransparency="true" frameborder="0"
            sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
        </div>
      </div>
      <div class="col-6 d-flex mf-section-2-column-right">
        <div class="row align-items-end">
          <div class="col-12">
            <img src="images/mail.jpg" class="float-left mf-subheadings-img" alt="Mineflex" width="60" height="auto">
            <h2 class="mf-subheadings" style="text-align:left;">Registration</h2>
            <p class="mf-descriptor-right">Check your email inbox to officially register for the beta!</p>
          </div>
          <div class="col-12">
            <img src="images/vpn-key.jpg" class="float-left mf-subheadings-img" alt="Mineflex" width="60" height="auto">
            <h2 class="mf-subheadings" style="text-align:left;">Beta Key</h2>
            <p class="mf-descriptor-right">Use the email link to access the registration process. Your beta key will be
              automatically inputted.
              If you’ve received a beta key through other means, you’ll just need to copy and paste it into the form.
            </p>
          </div>
          <div class="col-12">
            <img src="images/settings-input-component.png" class="float-left mf-subheadings-img" alt="Mineflex"
              width="60" height="auto">
            <h2 class="mf-subheadings" style="text-align:left;">Server Configuration</h2>
            <p class="mf-descriptor-right">The configuration page is where you can install plugins and add modpack
              features to customize your
              server.</p>
          </div>
          <div class="col-12">
            <img src="images/people.jpg" class="float-left mf-subheadings-img" alt="Mineflex" width="60" height="auto">
            <h2 class="mf-subheadings" style="text-align:left;">Start Playing</h2>
            <p class="mf-descriptor-right">Your beta account should be all set up for you to start playing Minecraft on
              your Mineflex server.</p>
          </div>
        </div>
      </div>
    </div>
  </div>


  <footer class="page-footer font-small pt-4 mf-footer">
    <div class="container">
      <div class="footer-copyright text-center py-3">© 2020 Copyright:
        <a href="https://mdbootstrap.com/">Mineflex.io</a>
      </div>
      <div class="footer-copyright text-center py-3">
        <a href="https://mdbootstrap.com/">Privacy Policy</a>
      </div>
  </footer>

  </div>


</body>
<script>
  document.getElementById("beta-button").onclick = function (e) {
    const email = document.getElementById("fname").value
    const fname = document.getElementById("email").value
    const status = document.getElementById("join-status")
    status.parentElement.style.display = 'none'


    if (email.length === 0 || fname.length === 0) {
      document.getElementById("join-status").innerHTML = "Please Enter your Email and First Name"
    } else {
      fetch('http://localhost:4000/email/beta/signup', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          email: email,
          first_name: fname,
          last_name: '',
          custom_fields: {
            w1_T: '',
            w2_T: '',
            w3_T: '',
          }
        })
      })
      .then(res => {
        if (res.status === 200) {
          status.parentElement.style.display = 'block'
          status.style.color = 'green'
          status.innerHTML = "You have succesfully Joined the Beta. Please check your email for a beta code!"
        } else {
          return res.json().then(body => {
            status.parentElement.style.display = 'block'
            status.style.color = 'red'
            status.innerHTML = body.error
          })
        }
      })
      .catch(err => {
        status.parentElement.style.display = 'block'
        status.style.color = 'red'
        status.innerHTML = 'Unable to Complete Beta Signup!'
      })
    }
  }
</script>

</html>